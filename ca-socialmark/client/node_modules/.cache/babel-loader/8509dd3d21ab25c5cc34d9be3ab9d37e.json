{"remainingRequest":"C:\\Users\\casper\\Desktop\\vue-composition-api\\ca-socialmark\\client\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\casper\\Desktop\\vue-composition-api\\ca-socialmark\\client\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\casper\\Desktop\\vue-composition-api\\ca-socialmark\\client\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!C:\\Users\\casper\\Desktop\\vue-composition-api\\ca-socialmark\\client\\src\\views\\NewBookmark.vue?vue&type=script&setup=true&lang=js","dependencies":[{"path":"C:\\Users\\casper\\Desktop\\vue-composition-api\\ca-socialmark\\client\\src\\views\\NewBookmark.vue","mtime":1666603154838},{"path":"C:\\Users\\casper\\Desktop\\vue-composition-api\\ca-socialmark\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1666595224266},{"path":"C:\\Users\\casper\\Desktop\\vue-composition-api\\ca-socialmark\\client\\node_modules\\babel-loader\\lib\\index.js","mtime":1666595240169},{"path":"C:\\Users\\casper\\Desktop\\vue-composition-api\\ca-socialmark\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1666595224266},{"path":"C:\\Users\\casper\\Desktop\\vue-composition-api\\ca-socialmark\\client\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1666595256726}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiQzovVXNlcnMvY2FzcGVyL0Rlc2t0b3AvdnVlLWNvbXBvc2l0aW9uLWFwaS9jYS1zb2NpYWxtYXJrL2NsaWVudC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMiI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5rZXlzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbmQuanMiOwppbXBvcnQgeyByZWYsIGluamVjdCwgY29tcHV0ZWQsIG9uTW91bnRlZCB9IGZyb20gInZ1ZSI7CmltcG9ydCB7IHVzZVN0b3JlIH0gZnJvbSAidnVleCI7CmltcG9ydCB7IHVzZVJvdXRlciB9IGZyb20gInZ1ZS1yb3V0ZXIiOwpleHBvcnQgZGVmYXVsdCB7CiAgc2V0dXA6IGZ1bmN0aW9uIHNldHVwKF9fcHJvcHMsIF9yZWYpIHsKICAgIHZhciBleHBvc2UgPSBfcmVmLmV4cG9zZTsKICAgIGV4cG9zZSgpOwogICAgdmFyIGFwcEF4aW9zID0gaW5qZWN0KCJhcHBBeGlvcyIpOwogICAgdmFyIHNvY2tldCA9IGluamVjdCgic29ja2V0Iik7CiAgICB2YXIgc3RvcmUgPSB1c2VTdG9yZSgpOwogICAgdmFyIHJvdXRlciA9IHVzZVJvdXRlcigpOwogICAgdmFyIGNhdGVnb3J5TGlzdCA9IHJlZihbXSk7CiAgICB2YXIgdXNlckRhdGEgPSByZWYoewogICAgICB0aXRsZTogbnVsbCwKICAgICAgdXJsOiBudWxsLAogICAgICBjYXRlZ29yeUlkOiBudWxsLAogICAgICBkZXNjcmlwdGlvbjogbnVsbAogICAgfSk7CiAgICBvbk1vdW50ZWQoZnVuY3Rpb24gKCkgewogICAgICBhcHBBeGlvcy5nZXQoIi9jYXRlZ29yaWVzIikudGhlbihmdW5jdGlvbiAoY2F0ZWdvcnlfcmVzcG9uc2UpIHsKICAgICAgICBjYXRlZ29yeUxpc3QudmFsdWUgPSAoY2F0ZWdvcnlfcmVzcG9uc2UgPT09IG51bGwgfHwgY2F0ZWdvcnlfcmVzcG9uc2UgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGNhdGVnb3J5X3Jlc3BvbnNlLmRhdGEpIHx8IFtdOwogICAgICB9KTsKICAgIH0pOwoKICAgIHZhciBvblNhdmUgPSBmdW5jdGlvbiBvblNhdmUoKSB7CiAgICAgIHZhciBzYXZlRGF0YSA9IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgdXNlckRhdGEudmFsdWUpLCB7fSwgewogICAgICAgIHVzZXJJZDogX2dldEN1cnJlbnRVc2VyID09PSBudWxsIHx8IF9nZXRDdXJyZW50VXNlciA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2dldEN1cnJlbnRVc2VyLnZhbHVlLmlkLAogICAgICAgIGNyZWF0ZWRfYXQ6IG5ldyBEYXRlKCkKICAgICAgfSk7CgogICAgICBhcHBBeGlvcy5wb3N0KCIvYm9va21hcmtzIiwgc2F2ZURhdGEpLnRoZW4oZnVuY3Rpb24gKHNhdmVfYm9va21hcmtfcmVzcG9uc2UpIHsKICAgICAgICB2YXIgX09iamVjdCRrZXlzLCBfY2F0ZWdvcnlMaXN0JHZhbHVlOwoKICAgICAgICAoX09iamVjdCRrZXlzID0gT2JqZWN0LmtleXModXNlckRhdGEudmFsdWUpKSA9PT0gbnVsbCB8fCBfT2JqZWN0JGtleXMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9PYmplY3Qka2V5cy5mb3JFYWNoKGZ1bmN0aW9uIChmaWVsZCkgewogICAgICAgICAgcmV0dXJuIHVzZXJEYXRhLnZhbHVlW2ZpZWxkXSA9IG51bGw7CiAgICAgICAgfSk7CgogICAgICAgIHZhciBzb2NrZXREYXRhID0gX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBzYXZlX2Jvb2ttYXJrX3Jlc3BvbnNlLmRhdGEpLCB7fSwgewogICAgICAgICAgdXNlcjogX2dldEN1cnJlbnRVc2VyLnZhbHVlLAogICAgICAgICAgY2F0ZWdvcnk6IChfY2F0ZWdvcnlMaXN0JHZhbHVlID0gY2F0ZWdvcnlMaXN0LnZhbHVlKSA9PT0gbnVsbCB8fCBfY2F0ZWdvcnlMaXN0JHZhbHVlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfY2F0ZWdvcnlMaXN0JHZhbHVlLmZpbmQoZnVuY3Rpb24gKGMpIHsKICAgICAgICAgICAgcmV0dXJuIGMuaWQgPT09IHNhdmVEYXRhLmNhdGVnb3J5SWQ7CiAgICAgICAgICB9KQogICAgICAgIH0pOwoKICAgICAgICBzb2NrZXQuZW1pdCgiTkVXX0JPT0tNQVJLX0VWRU5UIiwgc29ja2V0RGF0YSk7CiAgICAgICAgcm91dGVyLnB1c2goewogICAgICAgICAgbmFtZTogIkhvbWVQYWdlIgogICAgICAgIH0pOwogICAgICB9KTsKICAgIH07CgogICAgdmFyIF9nZXRDdXJyZW50VXNlciA9IGNvbXB1dGVkKGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIHN0b3JlLmdldHRlcnMuX2dldEN1cnJlbnRVc2VyOwogICAgfSk7CgogICAgdmFyIF9fcmV0dXJuZWRfXyA9IHsKICAgICAgYXBwQXhpb3M6IGFwcEF4aW9zLAogICAgICBzb2NrZXQ6IHNvY2tldCwKICAgICAgc3RvcmU6IHN0b3JlLAogICAgICByb3V0ZXI6IHJvdXRlciwKICAgICAgY2F0ZWdvcnlMaXN0OiBjYXRlZ29yeUxpc3QsCiAgICAgIHVzZXJEYXRhOiB1c2VyRGF0YSwKICAgICAgb25TYXZlOiBvblNhdmUsCiAgICAgIF9nZXRDdXJyZW50VXNlcjogX2dldEN1cnJlbnRVc2VyLAogICAgICByZWY6IHJlZiwKICAgICAgaW5qZWN0OiBpbmplY3QsCiAgICAgIGNvbXB1dGVkOiBjb21wdXRlZCwKICAgICAgb25Nb3VudGVkOiBvbk1vdW50ZWQsCiAgICAgIHVzZVN0b3JlOiB1c2VTdG9yZSwKICAgICAgdXNlUm91dGVyOiB1c2VSb3V0ZXIKICAgIH07CiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoX19yZXR1cm5lZF9fLCAnX19pc1NjcmlwdFNldHVwJywgewogICAgICBlbnVtZXJhYmxlOiBmYWxzZSwKICAgICAgdmFsdWU6IHRydWUKICAgIH0pOwogICAgcmV0dXJuIF9fcmV0dXJuZWRfXzsKICB9Cn07"},{"version":3,"sources":["C:/Users/casper/Desktop/vue-composition-api/ca-socialmark/client/src/views/NewBookmark.vue"],"names":[],"mappings":";;;;AAiBA,SAAS,GAAT,EAAc,MAAd,EAAsB,QAAtB,EAAgC,SAAhC,QAAiD,KAAjD;AACA,SAAS,QAAT,QAAyB,MAAzB;AACA,SAAS,SAAT,QAA0B,YAA1B;;;;;AACA,QAAM,QAAQ,GAAG,MAAM,CAAC,UAAD,CAAvB;AACA,QAAM,MAAM,GAAG,MAAM,CAAC,QAAD,CAArB;AACA,QAAM,KAAK,GAAG,QAAQ,EAAtB;AACA,QAAM,MAAM,GAAG,SAAS,EAAxB;AACA,QAAM,YAAY,GAAG,GAAG,CAAC,EAAD,CAAxB;AACA,QAAM,QAAQ,GAAG,GAAG,CAAC;AACnB,MAAA,KAAK,EAAE,IADY;AAEnB,MAAA,GAAG,EAAE,IAFc;AAGnB,MAAA,UAAU,EAAE,IAHO;AAInB,MAAA,WAAW,EAAE;AAJM,KAAD,CAApB;AAMA,IAAA,SAAS,CAAC,YAAM;AACd,MAAA,QAAQ,CAAC,GAAT,CAAa,aAAb,EAA4B,IAA5B,CAAiC,UAAA,iBAAiB,EAAI;AACpD,QAAA,YAAY,CAAC,KAAb,GAAqB,CAAA,iBAAiB,SAAjB,IAAA,iBAAiB,WAAjB,YAAA,iBAAiB,CAAE,IAAnB,KAA2B,EAAhD;AACD,OAFD;AAGD,KAJQ,CAAT;;AAMA,QAAM,MAAM,GAAG,SAAT,MAAS,GAAM;AACnB,UAAM,QAAQ,mCACT,QAAQ,CAAC,KADA;AAEZ,QAAA,MAAM,EAAE,eAAF,aAAE,eAAF,uBAAE,eAAe,CAAE,KAAjB,CAAuB,EAFnB;AAGZ,QAAA,UAAU,EAAE,IAAI,IAAJ;AAHA,QAAd;;AAKA,MAAA,QAAQ,CAAC,IAAT,CAAc,YAAd,EAA4B,QAA5B,EAAsC,IAAtC,CAA2C,UAAA,sBAAsB,EAAI;AAAA;;AACnE,wBAAA,MAAM,CAAC,IAAP,CAAY,QAAQ,CAAC,KAArB,+DAA6B,OAA7B,CAAqC,UAAA,KAAK;AAAA,iBAAK,QAAQ,CAAC,KAAT,CAAe,KAAf,IAAwB,IAA7B;AAAA,SAA1C;;AACA,YAAM,UAAU,mCACX,sBAAsB,CAAC,IADZ;AAEd,UAAA,IAAI,EAAE,eAAe,CAAC,KAFR;AAGd,UAAA,QAAQ,yBAAE,YAAY,CAAC,KAAf,wDAAE,oBAAoB,IAApB,CAAyB,UAAA,CAAC;AAAA,mBAAI,CAAC,CAAC,EAAF,KAAS,QAAQ,CAAC,UAAtB;AAAA,WAA1B;AAHI,UAAhB;;AAKA,QAAA,MAAM,CAAC,IAAP,CAAY,oBAAZ,EAAkC,UAAlC;AACA,QAAA,MAAM,CAAC,IAAP,CAAY;AAAE,UAAA,IAAI,EAAE;AAAR,SAAZ;AACD,OATD;AAUD,KAhBD;;AAiBA,QAAM,eAAe,GAAG,QAAQ,CAAC;AAAA,aAAM,KAAK,CAAC,OAAN,CAAc,eAApB;AAAA,KAAD,CAAhC","sourcesContent":["<template>\n  <div class=\"login_register_container\">\n    <h3 class=\"text-2xl text-center mb-3\">Yeni Ekle</h3>\n    <input ref=\"title\" v-model=\"userData.title\" type=\"text\" placeholder=\"Başlık\" class=\"input mb-3\" />\n    <input v-model=\"userData.url\" type=\"text\" placeholder=\"URL\" class=\"input mb-3\" />\n    <select v-model=\"userData.categoryId\" class=\"input mb-3\">\n      <option disabled value=\"\" selected>Kategori</option>\n      <option v-for=\"category in categoryList\" :key=\"category.id\" :value=\"category.id\">{{ category.name }} </option>\n    </select>\n    <textarea v-model=\"userData.description\" placeholder=\"Açıklama\" class=\"input mb-3\" cols=\"30\" rows=\"10\"></textarea>\n    <div class=\"flex items-center justify-end gap-x-1\">\n      <button @click=\"$router.push({ name: 'HomePage' })\" class=\"secondary-button\">İptal</button>\n      <button @click=\"onSave\" class=\"default-button\">Kaydet</button>\n    </div>\n  </div>\n</template>\n<script setup>\nimport { ref, inject, computed, onMounted } from \"vue\";\nimport { useStore } from \"vuex\";\nimport { useRouter } from \"vue-router\";\nconst appAxios = inject(\"appAxios\");\nconst socket = inject(\"socket\");\nconst store = useStore();\nconst router = useRouter();\nconst categoryList = ref([]);\nconst userData = ref({\n  title: null,\n  url: null,\n  categoryId: null,\n  description: null\n});\nonMounted(() => {\n  appAxios.get(\"/categories\").then(category_response => {\n    categoryList.value = category_response?.data || [];\n  });\n});\n\nconst onSave = () => {\n  const saveData = {\n    ...userData.value,\n    userId: _getCurrentUser?.value.id,\n    created_at: new Date()\n  };\n  appAxios.post(\"/bookmarks\", saveData).then(save_bookmark_response => {\n    Object.keys(userData.value)?.forEach(field => (userData.value[field] = null));\n    const socketData = {\n      ...save_bookmark_response.data,\n      user: _getCurrentUser.value,\n      category: categoryList.value?.find(c => c.id === saveData.categoryId)\n    };\n    socket.emit(\"NEW_BOOKMARK_EVENT\", socketData);\n    router.push({ name: \"HomePage\" });\n  });\n};\nconst _getCurrentUser = computed(() => store.getters._getCurrentUser);\n</script>\n"]}]}